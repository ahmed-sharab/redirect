<!DOCTYPE html>
<html>
  <head>
    <title>redirect</title>
    <style>
      body {
        padding-top: 20px;
        padding-left: 20px;
      }
    </style>
  </head>
  <body>
    <label for="userInput">Enter consent ID</label>
    <input type="text" id="userInput" name="userInput">
    <br><br>
    <label for="successSelect">Did it succeed?</label>
    <select id="successSelect" name="successSelect">
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
    <br><br>
    <a id="dataInLink" href="https://plus.anz/datain&success=true">https://plus.anz/datain&success=true</a>

    <script>
      function updateLink() {
        // Get user input and success value
        var userInput = document.getElementById("userInput").value;
        var successSelect = document.getElementById("successSelect");
        var successValue = successSelect.options[successSelect.selectedIndex].value;

        // Update link with user input and success value
        var link = document.getElementById("dataInLink");
        if (userInput) {
          link.href = "https://plus.anz/datain?consent-id=" + userInput + "&success=" + successValue;
          link.innerHTML = "https://plus.anz/datain?consent-id=" + userInput + "&success=" + successValue;
        } else {
          link.href = "https://plus.anz/datain?success=" + successValue;
          link.innerHTML = "https://plus.anz/datain?success=" + successValue;
        }
      }

      // Add event listeners to update the link whenever the user makes a change
      document.getElementById("userInput").addEventListener("input", updateLink);
      document.getElementById("successSelect").addEventListener("change", updateLink);
    </script>
  </body>
</html>
